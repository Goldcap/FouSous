minispade.register('ember-handlebars/controls/button', "(function() {// ==========================================================================\n// Project:   Ember Handlebars Views\n// Copyright: Â©2011 Strobe Inc. and contributors.\n// License:   Licensed under MIT license (see license.js)\n// ==========================================================================\nminispade.require('ember-runtime/mixins/target_action_support');\n\nvar get = Ember.get, set = Ember.set;\n\nEmber.Button = Ember.View.extend(Ember.TargetActionSupport, {\n  classNames: ['ember-button'],\n  classNameBindings: ['isActive'],\n\n  tagName: 'button',\n\n  propagateEvents: false,\n\n  attributeBindings: ['type', 'disabled', 'href', 'tabindex'],\n\n  /** @private\n    Overrides TargetActionSupport's targetObject computed\n    property to use Handlebars-specific path resolution.\n  */\n  targetObject: Ember.computed(function() {\n    var target = get(this, 'target'),\n        root = get(this, 'context'),\n        data = get(this, 'templateData');\n\n    if (typeof target !== 'string') { return target; }\n\n    return Ember.Handlebars.getPath(root, target, { data: data });\n  }).property('target').cacheable(),\n\n  // Defaults to 'button' if tagName is 'input' or 'button'\n  type: Ember.computed(function(key, value) {\n    var tagName = this.get('tagName');\n    if (value !== undefined) { this._type = value; }\n    if (this._type !== undefined) { return this._type; }\n    if (tagName === 'input' || tagName === 'button') { return 'button'; }\n  }).property('tagName').cacheable(),\n\n  disabled: false,\n\n  // Allow 'a' tags to act like buttons\n  href: Ember.computed(function() {\n    return this.get('tagName') === 'a' ? '#' : null;\n  }).property('tagName').cacheable(),\n\n  mouseDown: function() {\n    if (!get(this, 'disabled')) {\n      set(this, 'isActive', true);\n      this._mouseDown = true;\n      this._mouseEntered = true;\n    }\n    return get(this, 'propagateEvents');\n  },\n\n  mouseLeave: function() {\n    if (this._mouseDown) {\n      set(this, 'isActive', false);\n      this._mouseEntered = false;\n    }\n  },\n\n  mouseEnter: function() {\n    if (this._mouseDown) {\n      set(this, 'isActive', true);\n      this._mouseEntered = true;\n    }\n  },\n\n  mouseUp: function(event) {\n    if (get(this, 'isActive')) {\n      // Actually invoke the button's target and action.\n      // This method comes from the Ember.TargetActionSupport mixin.\n      this.triggerAction();\n      set(this, 'isActive', false);\n    }\n\n    this._mouseDown = false;\n    this._mouseEntered = false;\n    return get(this, 'propagateEvents');\n  },\n\n  keyDown: function(event) {\n    // Handle space or enter\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      this.mouseDown();\n    }\n  },\n\n  keyUp: function(event) {\n    // Handle space or enter\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      this.mouseUp();\n    }\n  },\n\n  // TODO: Handle proper touch behavior.  Including should make inactive when\n  // finger moves more than 20x outside of the edge of the button (vs mouse\n  // which goes inactive as soon as mouse goes out of edges.)\n\n  touchStart: function(touch) {\n    return this.mouseDown(touch);\n  },\n\n  touchEnd: function(touch) {\n    return this.mouseUp(touch);\n  },\n\n  init: function() {\n    Ember.deprecate(\"Ember.Button is deprecated and will be removed from future releases. Consider using the `{{action}}` helper.\");\n    this._super();\n  }\n});\n\n})();\n//@ sourceURL=ember-handlebars/controls/button");